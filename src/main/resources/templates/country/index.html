<!DOCTYPE html>
<html lang="en" xmlns:th="http://wwww.thymeleaf.org">
<head th:replace="fragments :: head">
</head>


<body class="container">
<h1 th:text="${title}+' (Total = '+${countries.size()+')'}"></h1>
<div th:replace="fragments :: page-header"></div>
<p th:unless="${countries} and ${countries.size()}">no countries :(</p>

<table class="table">
    <tr>
        <td>Name</td>
        <td>Number of Films</td>
        <td>Average Rating</td>
    </tr>
    <tr th:each="index : ${#numbers.sequence(0,#arrays.length(countries)-1)}">
        <td><a th:href="@{'/country/view/'+${countries[index].id}}" th:text="${countries[index].name}"></a></td>
        <td th:text="${countries[index].films.size()}"></td>
        <td th:text="${averages[index]}"></td>
    </tr>
</table>

</body>
</html>