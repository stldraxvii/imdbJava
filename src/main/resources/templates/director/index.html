<!DOCTYPE html>
<html lang="en" xmlns:th="http://wwww.thymeleaf.org">
<head th:replace="fragments :: head">
</head>


<body class="container">
<h1 th:text="${title}+' (Total = '+${directors.size()+')'}"></h1>
<div th:replace="fragments :: page-header"></div>
<p th:unless="${directors} and ${directors.size()}">no directors :(</p>

<table class="table">
    <tr>
        <td>Name</td>
        <td>Number of Films</td>
        <td>Average Rating</td>
    </tr>
    <tr th:each="index : ${#numbers.sequence(0,#arrays.length(directors)-1)}">
        <td><a th:href="@{'/director/view/'+${directors[index].id}}" th:text="${directors[index].name}"></a></td>
        <td th:text="${directors[index].films.size()}"></td>
        <td th:text="${averages[index]}"></td>
    </tr>
</table>

</body>
</html>